<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="compte"></ion-back-button>
    </ion-buttons>
    <ion-title>
        {{ superP.globalLanguages?.listdemades_titre ? superP.globalLanguages?.listdemades_titre : 'listdemades_titre' }}
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-list lines="none" *ngIf="result">
    <ion-item-sliding *ngFor="let res of result; let i = index">
        <ion-item-options side="end">
          <ion-item-option *ngIf="res.etat_demande != 3" (click)="annuler(res?.id)">
              {{ superP.globalLanguages?.listdemandes_annuler ? superP.globalLanguages?.listdemandes_annuler : 'listdemandes_annuler' }}
          </ion-item-option>
        </ion-item-options>
          <ion-item (click)="Details(res)">
              <ion-thumbnail slot="start">
                  <ion-img [src]="res?.url_image"></ion-img>
                </ion-thumbnail> 
                <ion-label>
                  <h2> {{res?.titre }}  </h2>
                  <p text-wrap [style.color]="(res.etat_demande== 1 ) ? colors[0] : 'black' || (res.etat_demande== 2 ) ? colors[1] : 'black' || (res.etat_demande== 3 ) ? colors[2] : 'black'">{{ res?.titre_etat_demande }}</p>
                  <p>{{ res?.description }}</p>
                </ion-label>
          </ion-item>
        </ion-item-sliding>
      </ion-list>
      <div *ngIf="!result">
          <p text-center >{{ superP.globalLanguages?.listdemandes_item_not_found ? superP.globalLanguages?.listdemandes_item_not_found : 'listdemandes_item_not_found' }}</p>
      </div>
</ion-content>
